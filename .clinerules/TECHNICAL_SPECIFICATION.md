–ò–ù–°–¢–†–£–ö–¶–ò–ò –î–õ–Ø AI-–ê–ì–ï–ù–¢–ê: Knowledge Base RAG MVP
üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–ò–ù–¶–ò–ü–´

–ù–ï–¢ –í–ê–†–ò–ê–¢–ò–í–ù–û–°–¢–ò: –ö–∞–∂–¥–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ–¥–Ω–æ–∑–Ω–∞—á–Ω—ã–º. –ù–µ –ø—Ä–µ–¥–ª–∞–≥–∞–π –≤–∞—Ä–∏–∞–Ω—Ç—ã.
–ù–ï–¢ –ö–û–°–¢–´–õ–Ø–ú: –õ—É—á—à–µ –ø–æ—Ç—Ä–∞—Ç–∏—Ç—å –≤—Ä–µ–º—è –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ —Å–µ–π—á–∞—Å.
–ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨ –ü–†–ï–í–´–®–ï –í–°–ï–ì–û: –ö–∞–∂–¥—ã–π endpoint –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞.
–§–ê–ö–¢–´, –ù–ï –ú–ù–ï–ù–ò–Ø: –ò—Å–ø–æ–ª—å–∑—É–π –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è, –Ω–µ —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∏—Ä—É–π.

üìÅ –°–¢–†–£–ö–¢–£–†–ê –ü–†–û–ï–ö–¢–ê
knowledge-base-mvp/
‚îú‚îÄ‚îÄ backend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ controllers/      # –ö–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã (–±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ routes/           # –†–æ—É—Ç—ã Express
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/         # –°–µ—Ä–≤–∏—Å—ã (—Ä–∞–±–æ—Ç–∞ —Å –ë–î, –≤–Ω–µ—à–Ω–∏–µ API)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ middlewares/      # JWT, –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils/            # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types/            # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config/           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.ts          # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îÇ   ‚îú‚îÄ‚îÄ prisma/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schema.prisma     # –°—Ö–µ–º–∞ –ë–î
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ seed.ts           # –ù–∞—á–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
‚îÇ   ‚îú‚îÄ‚îÄ uploads/              # –í—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îú‚îÄ‚îÄ tsconfig.json
‚îÇ   ‚îî‚îÄ‚îÄ .env
‚îú‚îÄ‚îÄ worker/
‚îÇ   ‚îú‚îÄ‚îÄ processors/           # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ base_processor.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ docx_processor.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ csv_processor.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ json_processor.py
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ embedding_service.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ chunking_service.py
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ database_service.py
‚îÇ   ‚îú‚îÄ‚îÄ celery_app.py        # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Celery
‚îÇ   ‚îú‚îÄ‚îÄ tasks.py              # –ó–∞–¥–∞—á–∏ Celery
‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt
‚îÇ   ‚îî‚îÄ‚îÄ .env
‚îú‚îÄ‚îÄ frontend/
‚îÇ   ‚îú‚îÄ‚îÄ src/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ components/       # –ü–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ pages/           # –°—Ç—Ä–∞–Ω–∏—Ü—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services/        # API –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ store/           # Zustand store
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ hooks/           # Custom hooks
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ types/           # TypeScript —Ç–∏–ø—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ utils/           # –í—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ App.tsx
‚îÇ   ‚îú‚îÄ‚îÄ package.json
‚îÇ   ‚îî‚îÄ‚îÄ .env
‚îú‚îÄ‚îÄ docker-compose.yml
‚îú‚îÄ‚îÄ .gitignore
‚îî‚îÄ‚îÄ README.md
üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –¢–†–ï–ë–û–í–ê–ù–ò–Ø
TypeScript (Backend & Frontend)
typescript// –í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π —Å—Ç—Ä–æ–≥—É—é —Ç–∏–ø–∏–∑–∞—Ü–∏—é
{
  "compilerOptions": {
    "strict": true,
    "noImplicitAny": true,
    "strictNullChecks": true,
    "strictFunctionTypes": true,
    "noUnusedLocals": true,
    "noUnusedParameters": true,
    "esModuleInterop": true,
    "skipLibCheck": true
  }
}
–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
typescript// –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û: –ï–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—à–∏–±–æ–∫
class AppError extends Error {
  statusCode: number;
  isOperational: boolean;
  
  constructor(message: string, statusCode: number) {
    super(message);
    this.statusCode = statusCode;
    this.isOperational = true;
  }
}

// –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û: –ì–ª–æ–±–∞–ª—å–Ω—ã–π –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫
app.use((err: AppError, req: Request, res: Response, next: NextFunction) => {
  const { statusCode = 500, message } = err;
  logger.error({ err, req });
  res.status(statusCode).json({
    success: false,
    error: message,
    ...(process.env.NODE_ENV === 'development' && { stack: err.stack })
  });
});
–õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
typescript// –ò–°–ü–û–õ–¨–ó–£–ô winston –¥–ª—è backend
import winston from 'winston';

const logger = winston.createLogger({
  level: process.env.LOG_LEVEL || 'info',
  format: winston.format.json(),
  transports: [
    new winston.transports.File({ filename: 'error.log', level: 'error' }),
    new winston.transports.File({ filename: 'combined.log' })
  ]
});

// –õ–û–ì–ò–†–£–ô: –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ë–î, –≤—Å–µ –æ—à–∏–±–∫–∏, –≤—Å–µ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –≤–Ω–µ—à–Ω–∏–º API
üîê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–¨
1. –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è
typescript// –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ –ö–ê–ñ–î–û–ú –∑–∞—â–∏—â–µ–Ω–Ω–æ–º endpoint
export const authenticate = async (req: Request, res: Response, next: NextFunction) => {
  const token = req.headers.authorization?.replace('Bearer ', '');
  
  if (!token) {
    throw new AppError('Unauthorized', 401);
  }
  
  try {
    const decoded = jwt.verify(token, process.env.JWT_SECRET!);
    req.user = await prisma.user.findUnique({ where: { id: decoded.id } });
    
    if (!req.user) {
      throw new AppError('User not found', 401);
    }
    
    next();
  } catch (error) {
    throw new AppError('Invalid token', 401);
  }
};
2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Ä–æ–≤–Ω—è –¥–æ—Å—Ç—É–ø–∞
typescript// –ö–†–ò–¢–ò–ß–ù–û: –ü—Ä–æ–≤–µ—Ä—è–π access_level –í–ï–ó–î–ï
export const checkAccessLevel = (requiredLevel: number) => {
  return (req: Request, res: Response, next: NextFunction) => {
    if (req.user.accessLevel < requiredLevel) {
      throw new AppError('Insufficient access level', 403);
    }
    next();
  };
};

// –í –ö–ê–ñ–î–û–ú –∑–∞–ø—Ä–æ—Å–µ –∫ ChromaDB:
const results = await collection.query({
  where: { access_level: { $lte: user.accessLevel } }
});
3. –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
typescript// –ò–°–ü–û–õ–¨–ó–£–ô joi –¥–ª—è –≤–∞–ª–∏–¥–∞—Ü–∏–∏
import Joi from 'joi';

const uploadSchema = Joi.object({
  title: Joi.string().min(3).max(255).required(),
  accessLevel: Joi.number().min(1).max(100).required()
});

// –í–ê–õ–ò–î–ò–†–£–ô –í–°–Å
export const validate = (schema: Joi.Schema) => {
  return (req: Request, res: Response, next: NextFunction) => {
    const { error } = schema.validate(req.body);
    if (error) {
      throw new AppError(error.details[0].message, 400);
    }
    next();
  };
};
4. –ü–∞—Ä–æ–ª–∏
typescript// –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û
const SALT_ROUNDS = 12;  // –ù–ï –ú–ï–ù–¨–®–ï!
const password_hash = await bcrypt.hash(password, SALT_ROUNDS);

// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –ø–∞—Ä–æ–ª—è
const passwordSchema = Joi.string()
  .min(8)
  .pattern(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[@$!%*?&])/);
üóÑÔ∏è –ë–ê–ó–ê –î–ê–ù–ù–´–•
Prisma —Å—Ö–µ–º–∞
prisma// –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ø–æ–ª—è –¥–ª—è –í–°–ï–• —Ç–∞–±–ª–∏—Ü
model BaseModel {
  id        String   @id @default(uuid())
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
}

// –ò–ù–î–ï–ö–°–´ –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
@@index([accessLevel])
@@index([userId])
@@index([createdAt])
–ú–∏–≥—Ä–∞—Ü–∏–∏
bash# –í–°–ï–ì–î–ê —Å–æ–∑–¥–∞–≤–∞–π –º–∏–≥—Ä–∞—Ü–∏—é –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ö–µ–º—ã
npx prisma migrate dev --name descriptive_name

# –ù–ò–ö–û–ì–î–ê –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–π
npx prisma db push  # –≠—Ç–æ –¥–ª—è –ø—Ä–æ—Ç–æ—Ç–∏–ø–æ–≤, –Ω–µ –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞!
üîç –≠–ú–ë–ï–î–î–ò–ù–ì–ò –ò –ü–û–ò–°–ö
–ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
python# worker/config.py
class EmbeddingConfig:
    MODEL = 'intfloat/multilingual-e5-large'  # –ù–ï –ú–ï–ù–Ø–¢–¨!
    DIMENSION = 1024                          # –ù–ï –ú–ï–ù–Ø–¢–¨!
    MAX_SEQ_LENGTH = 512                      # –ù–ï –ú–ï–ù–Ø–¢–¨!
    BATCH_SIZE = 32
    
    # –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ø—Ä–µ—Ñ–∏–∫—Å—ã
    DOCUMENT_PREFIX = "passage: "
    QUERY_PREFIX = "query: "
    
    # ChromaDB –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
    COLLECTION_NAME = "documents"
    DISTANCE_METRIC = "cosine"               # –ù–ï –ú–ï–ù–Ø–¢–¨!
    
class ChunkingConfig:
    SIZE = 1000
    OVERLAP = 100
    MIN_SIZE = 200
    
    # –í–ê–ñ–ù–û: –ù–µ –æ–±—Ä–µ–∑–∞—Ç—å –ø–æ—Å—Ä–µ–¥–∏ —Å–ª–æ–≤–∞
    RESPECT_SENTENCE_BOUNDARY = True
–û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤
python# –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ô –ø–æ—Ä—è–¥–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏
def process_document(file_path: str, doc_id: str, access_level: int):
    # 1. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
    text = extract_text(file_path)
    
    # 2. –û—á–∏—Å—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞
    text = clean_text(text)  # –£–¥–∞–ª–µ–Ω–∏–µ –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤, —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–æ–≤
    
    # 3. –†–∞–∑–±–∏–≤–∫–∞ –Ω–∞ —á–∞–Ω–∫–∏
    chunks = create_chunks(text)
    
    # 4. –°–æ–∑–¥–∞–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ö–ê–ñ–î–û–ì–û —á–∞–Ω–∫–∞
    for i, chunk in enumerate(chunks):
        metadata = {
            "doc_id": doc_id,
            "chunk_index": i,
            "access_level": access_level,  # –ö–†–ò–¢–ò–ß–ù–û!
            "char_start": chunk.start,
            "char_end": chunk.end,
            "created_at": datetime.now().isoformat()
        }
        
        # 5. –°–æ–∑–¥–∞–Ω–∏–µ —ç–º–±–µ–¥–¥–∏–Ω–≥–∞ –° –ü–†–ï–§–ò–ö–°–û–ú
        embedding = model.encode(
            DOCUMENT_PREFIX + chunk.text,
            normalize_embeddings=True  # –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û!
        )
        
        # 6. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ ChromaDB
        collection.add(
            ids=[f"{doc_id}_{i}"],
            embeddings=[embedding],
            documents=[chunk.text],
            metadatas=[metadata]
        )
üìù API ENDPOINTS
–°—Ç–∞–Ω–¥–∞—Ä—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤
typescript// –í–°–ï–ì–î–ê –∏—Å–ø–æ–ª—å–∑—É–π –µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
interface ApiResponse<T = any> {
  success: boolean;
  data?: T;
  error?: string;
  metadata?: {
    page?: number;
    total?: number;
    timestamp: string;
  };
}

// –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
res.status(200).json({
  success: true,
  data: result,
  metadata: { timestamp: new Date().toISOString() }
});

// –û—à–∏–±–∫–∞
res.status(400).json({
  success: false,
  error: "–û–ø–∏—Å–∞–Ω–∏–µ –æ—à–∏–±–∫–∏"
});
–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ middleware –¥–ª—è –ö–ê–ñ–î–û–ì–û endpoint
typescriptrouter.post('/documents/upload',
  authenticate,                    // 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ JWT
  checkAccessLevel(10),            // 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤
  validate(uploadSchema),          // 3. –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
  rateLimiter,                     // 4. Rate limiting
  uploadController.upload          // 5. –°–∞–º –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä
);
üé® FRONTEND
–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
typescript// –ö–ê–ñ–î–´–ô –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ –æ—Ç–¥–µ–ª—å–Ω–æ–º —Ñ–∞–π–ª–µ
// components/DocumentUpload/DocumentUpload.tsx
interface DocumentUploadProps {
  onSuccess: (doc: Document) => void;
  onError: (error: string) => void;
}

export const DocumentUpload: React.FC<DocumentUploadProps> = ({ 
  onSuccess, 
  onError 
}) => {
  // –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û: loading –∏ error states
  const [loading, setLoading] = useState(false);
  const [error, setError] = useState<string | null>(null);
  
  // –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û: cleanup –≤ useEffect
  useEffect(() => {
    return () => {
      // –û—á–∏—Å—Ç–∫–∞
    };
  }, []);
  
  return (
    // JSX
  );
};
API –∫–ª–∏–µ–Ω—Ç
typescript// services/api.ts
class ApiClient {
  private baseURL = process.env.REACT_APP_API_URL;
  
  // –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û: Interceptor –¥–ª—è —Ç–æ–∫–µ–Ω–∞
  constructor() {
    axios.interceptors.request.use((config) => {
      const token = localStorage.getItem('token');
      if (token) {
        config.headers.Authorization = `Bearer ${token}`;
      }
      return config;
    });
    
    // –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û: –û–±—Ä–∞–±–æ—Ç–∫–∞ 401
    axios.interceptors.response.use(
      (response) => response,
      (error) => {
        if (error.response?.status === 401) {
          localStorage.removeItem('token');
          window.location.href = '/login';
        }
        return Promise.reject(error);
      }
    );
  }
}
üìã –ü–û–†–Ø–î–û–ö –†–ê–ó–†–ê–ë–û–¢–ö–ò
–§–∞–∑–∞ 1: –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (–°–¢–†–û–ì–û –≤ —ç—Ç–æ–º –ø–æ—Ä—è–¥–∫–µ)

–°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å package.json –≤ –∫–∞–∂–¥–æ–π –ø–∞–ø–∫–µ
–°–æ–∑–¥–∞—Ç—å docker-compose.yml
–°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª—ã
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å: docker-compose up -d

–§–∞–∑–∞ 2: Backend –±–∞–∑–∞

–ù–∞—Å—Ç—Ä–æ–∏—Ç—å Prisma
–°–æ–∑–¥–∞—Ç—å —Å—Ö–µ–º—É –ë–î
–ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
–°–æ–∑–¥–∞—Ç—å seed —Å –∞–¥–º–∏–Ω–æ–º
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å: npx prisma studio

–§–∞–∑–∞ 3: –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è

JWT middleware
Login endpoint
Logout endpoint
Me endpoint
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å: Postman –∫–æ–ª–ª–µ–∫—Ü–∏—è

–§–∞–∑–∞ 4: Upload –¥–æ–∫—É–º–µ–Ω—Ç–æ–≤

Multer –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
Upload endpoint
–û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Redis
List documents endpoint
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å: –ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–∞

–§–∞–∑–∞ 5: Worker

Celery –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
DocxProcessor
Chunking service
Embedding service
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å: –ß–∞–Ω–∫–∏ –≤ –ë–î –ø–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏

–§–∞–∑–∞ 6: RAG

Search endpoint
ChromaDB query
Reranking
Ollama integration
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å: –û—Ç–≤–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç—É

–§–∞–∑–∞ 7: Frontend –æ—Å–Ω–æ–≤–∞

React setup
Login page
Main layout
Chat interface
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å: –ú–æ–∂–Ω–æ –∑–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å

–§–∞–∑–∞ 8: Frontend –¥–æ–∫—É–º–µ–Ω—Ç—ã

Upload component
Documents list
Chunks preview
Chunks edit
–ü—Ä–æ–≤–µ—Ä–∏—Ç—å: –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–±–æ—Ç—ã

‚ö†Ô∏è –ß–ê–°–¢–´–ï –û–®–ò–ë–ö–ò (–ù–ï –î–û–ü–£–°–ö–ê–¢–¨!)
‚ùå –ù–ï –î–ï–õ–ê–ô –¢–ê–ö:
typescript// –ë–µ–∑ —Ç–∏–ø–æ–≤
const processData = (data) => { ... }

// –ë–µ–∑ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
const result = await prisma.user.findUnique({ where: { id } });
return result;  // –ê –µ—Å–ª–∏ null?

// –ë–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤
router.get('/documents/:id', async (req, res) => {
  const doc = await prisma.document.findUnique({ where: { id } });
  res.json(doc);  // –ê –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞?
});

// –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤ event loop
const bigFile = fs.readFileSync('huge.pdf');  // –ë–ª–æ–∫–∏—Ä—É–µ—Ç!
‚úÖ –î–ï–õ–ê–ô –¢–ê–ö:
typescript// –° —Ç–∏–ø–∞–º–∏
const processData = (data: DocumentData): ProcessedData => { ... }

// –° –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
const result = await prisma.user.findUnique({ where: { id } });
if (!result) {
  throw new AppError('User not found', 404);
}
return result;

// –° –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø—Ä–∞–≤
router.get('/documents/:id', authenticate, async (req, res) => {
  const doc = await prisma.document.findUnique({ 
    where: { 
      id: req.params.id,
      accessLevel: { lte: req.user.accessLevel }
    } 
  });
  if (!doc) {
    throw new AppError('Document not found or access denied', 404);
  }
  res.json(doc);
});

// –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
const bigFile = await fs.promises.readFile('huge.pdf');
üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï
–ü–æ—Å–ª–µ –ö–ê–ñ–î–û–ô —Ñ–∞–∑—ã –ø—Ä–æ–≤–µ—Ä—è–π:
bash# Backend
curl -X POST http://localhost:3001/api/auth/login \
  -H "Content-Type: application/json" \
  -d '{"email":"admin@test.com","password":"Admin123!"}'

# Worker
celery -A celery_app worker --loglevel=info

# ChromaDB
curl http://localhost:8000/api/v1/collections

# Ollama
curl http://localhost:11434/api/tags
üìä –ú–û–ù–ò–¢–û–†–ò–ù–ì
–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ª–æ–≥–∏:

–í—Å–µ –æ—à–∏–±–∫–∏
–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å –ë–î –¥–æ–ª—å—à–µ 1 —Å–µ–∫—É–Ω–¥—ã
–í—Å–µ –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ –≤–Ω–µ—à–Ω–∏–º API
–í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ñ–∞–π–ª–∞–º–∏
–í—Å–µ –Ω–µ—É–¥–∞—á–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏

–ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è:

–í—Ä–µ–º—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞
–†–∞–∑–º–µ—Ä —á–∞–Ω–∫–æ–≤
–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —á–∞–Ω–∫–æ–≤ –Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç
–í—Ä–µ–º—è –ø–æ–∏—Å–∫–∞
–ö–∞—á–µ—Å—Ç–≤–æ –æ—Ç–≤–µ—Ç–æ–≤ (–¥–æ–±–∞–≤–∏—Ç—å thumbs up/down)

üöÄ –î–ï–ü–õ–û–ô –ü–†–û–í–ï–†–ö–ò
–ü–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∫–æ–º–º–∏—Ç–æ–º:
bash# TypeScript –ø—Ä–æ–≤–µ—Ä–∫–∞
npm run type-check

# –õ–∏–Ω—Ç–µ—Ä
npm run lint

# –¢–µ—Å—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
npm audit

# Python –ø—Ä–æ–≤–µ—Ä–∫–∞
pylint worker/
mypy worker/

# Docker health check
docker-compose ps
üìå –ö–û–ù–°–¢–ê–ù–¢–´ –ü–†–û–ï–ö–¢–ê
typescript// –ù–ï –ò–ó–ú–ï–ù–Ø–¢–¨ –±–µ–∑ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è
export const CONSTANTS = {
  // Chunking
  CHUNK_SIZE: 1000,
  CHUNK_OVERLAP: 100,
  MIN_CHUNK_SIZE: 200,
  
  // Embedding
  EMBEDDING_MODEL: 'intfloat/multilingual-e5-large',
  EMBEDDING_DIMENSION: 1024,
  
  // Search
  SEARCH_TOP_K: 30,
  RERANK_TOP_K: 10,
  
  // Auth
  JWT_EXPIRY: '7d',
  BCRYPT_ROUNDS: 12,
  
  // Limits
  MAX_FILE_SIZE: 10 * 1024 * 1024,  // 10MB
  MAX_CHUNKS_PER_DOC: 1000,
  
  // Access levels
  ACCESS_LEVEL_MIN: 1,
  ACCESS_LEVEL_MAX: 100,
  ACCESS_LEVEL_DEFAULT: 50
};

–§–ò–ù–ê–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê: –ï—Å–ª–∏ —Ö–æ—Ç—å –æ–¥–∏–Ω –ø—É–Ω–∫—Ç –Ω–µ –≤—ã–ø–æ–ª–Ω–µ–Ω - —Å–∏—Å—Ç–µ–º–∞ –ù–ï –ì–û–¢–û–í–ê –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.